# ArgoFlow MCP Server - Environment Configuration Example
# Copy this file to .env and customize for your environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server Identity
MCP_SERVER_NAME=argoflow-mcp-server
MCP_SERVER_VERSION=0.1.0

# Transport & Network
MCP_TRANSPORT=http
MCP_HOST=0.0.0.0
MCP_PORT=8797
MCP_PATH=/sse

# Server Behavior
MCP_ALLOW_WRITE=false
MCP_DEBUG=false

# HTTP Settings
MCP_HTTP_TIMEOUT=300
MCP_HTTP_KEEPALIVE_TIMEOUT=5
MCP_HTTP_CONNECT_TIMEOUT=60
MCP_MAX_REQUEST_SIZE=10485760

# Worker Settings
MCP_WORKERS=1
MCP_THREADS_PER_WORKER=4
MCP_SHUTDOWN_TIMEOUT=30

# =============================================================================
# ARGO ROLLOUTS CONFIGURATION
# =============================================================================

# Operation Timeouts (seconds)
ARGO_OPERATION_TIMEOUT=300
ARGO_STATUS_CHECK_INTERVAL=5
ARGO_PROMOTION_TIMEOUT=600

# Default Deployment Settings
ARGO_DEFAULT_STRATEGY=canary
ARGO_DEFAULT_REPLICAS=3

# Analysis Configuration
ARGO_ENABLE_ANALYSIS=true
ARGO_METRICS_PROVIDER=prometheus

# Safety Settings
ARGO_REQUIRE_MANUAL_PROMOTION=true
ARGO_AUTO_ROLLBACK=true

# =============================================================================
# TRAEFIK CONFIGURATION
# =============================================================================

# Operation Settings
TRAEFIK_OPERATION_TIMEOUT=120
TRAEFIK_ROUTE_SYNC_INTERVAL=10

# Traffic Management
TRAEFIK_DEFAULT_WEIGHT_STEP=10
TRAEFIK_DEFAULT_RATE_LIMIT=100
TRAEFIK_DEFAULT_RATE_BURST=200

# Circuit Breaker
TRAEFIK_CIRCUIT_BREAKER_THRESHOLD=0.5

# Features
TRAEFIK_ENABLE_MIRRORING=true
TRAEFIK_ENABLE_METRICS=true
TRAEFIK_VALIDATE_BEFORE_APPLY=true

# =============================================================================
# KUBERNETES CONFIGURATION
# =============================================================================

# Connection Settings
K8S_TIMEOUT=30
K8S_VERIFY_SSL=true
K8S_CONNECTION_POOL_SIZE=10

# Kubeconfig (leave empty for auto-detect)
# K8S_KUBECONFIG=/path/to/kubeconfig
# K8S_CONTEXT=my-context

# In-cluster mode (for running inside Kubernetes)
K8S_IN_CLUSTER=false

# Retry Settings
K8S_MAX_RETRIES=3

# Namespace
K8S_DEFAULT_NAMESPACE=default

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================

# Prometheus Integration
PROMETHEUS_ENABLED=true
PROMETHEUS_URL=http://prometheus:9090
PROMETHEUS_TIMEOUT=30

# Metrics Endpoint
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=8080
HEALTH_CHECK_PATH=/health

# Cost Analytics
ENABLE_COST_ANALYTICS=true
COST_PER_REPLICA_HOUR=0.05

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log Format: json, text
LOG_FORMAT=json

# File Logging
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/argoflow_mcp_server.log
LOG_MAX_BYTES=10485760

# Console Logging
LOG_CONSOLE_ENABLED=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Authentication
AUTH_ENABLED=false
AUTH_TYPE=bearer

# RBAC
RBAC_ENABLED=false

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100

# CORS
CORS_ENABLED=true

# TLS/SSL
TLS_ENABLED=false
# TLS_CERT_FILE=/path/to/cert.pem
# TLS_KEY_FILE=/path/to/key.pem

# =============================================================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# =============================================================================

# Development Environment
# -----------------------
# MCP_DEBUG=true
# MCP_ALLOW_WRITE=true
# LOG_LEVEL=DEBUG
# LOG_FORMAT=text
# ARGO_REQUIRE_MANUAL_PROMOTION=false

# Staging Environment
# -------------------
# MCP_ALLOW_WRITE=true
# LOG_LEVEL=INFO
# ARGO_REQUIRE_MANUAL_PROMOTION=true
# ARGO_AUTO_ROLLBACK=true
# RATE_LIMIT_ENABLED=true

# Production Environment
# ----------------------
# MCP_ALLOW_WRITE=true
# MCP_WORKERS=4
# LOG_LEVEL=WARNING
# ARGO_REQUIRE_MANUAL_PROMOTION=true
# ARGO_AUTO_ROLLBACK=true
# AUTH_ENABLED=true
# TLS_ENABLED=true
# RATE_LIMIT_REQUESTS=1000
